<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scheduler Class: Scheduler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scheduler Class
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A scheduler class for timing and scheduling events in ATMEGA32 applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/dc0/class_scheduler.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d4/d7e/class_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>class to operate as scheduler for several tasks to run concurrently, but asynchronously  
 <a href="../../dc/dc0/class_scheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/dd8/scheduler_8h_source.html">scheduler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aca1f38e64471e2fa80b94983894c49d9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler_state</a> { <br />
&#160;&#160;<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a070a0fb40f6c308ab544b227660aadff">Scheduler_state::TIMEOUT</a>, 
<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a43491564ebcfd38568918efbd6e840fd">Scheduler_state::RUNNING</a>, 
<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4">Scheduler_state::HOLD</a>, 
<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a1104c54a9ec6549e4ef9562b687596fb">Scheduler_state::RESTART</a>, 
<br />
&#160;&#160;<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9ab5859d8721cfdc0312b2838b9c985bc1">Scheduler_state::RESET</a>
<br />
 }<tr class="memdesc:aca1f38e64471e2fa80b94983894c49d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">possible states of a scheduler/timer  <a href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aca1f38e64471e2fa80b94983894c49d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b61aac11466cd45ae42ab8c2b0013f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a3b61aac11466cd45ae42ab8c2b0013f6">Scheduler</a> ()</td></tr>
<tr class="memdesc:a3b61aac11466cd45ae42ab8c2b0013f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor for building an array of schedulers  <a href="#a3b61aac11466cd45ae42ab8c2b0013f6">More...</a><br /></td></tr>
<tr class="separator:a3b61aac11466cd45ae42ab8c2b0013f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a62fca7cffd509985a08c6c377775df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a6a62fca7cffd509985a08c6c377775df">Scheduler</a> (unsigned long pre, void(*on_timeout)(void), void(*on_restart)(void))</td></tr>
<tr class="memdesc:a6a62fca7cffd509985a08c6c377775df"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor for creating an instance of <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a>  <a href="#a6a62fca7cffd509985a08c6c377775df">More...</a><br /></td></tr>
<tr class="separator:a6a62fca7cffd509985a08c6c377775df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852b36ea51ac0836a337697b8392c645"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a852b36ea51ac0836a337697b8392c645">set_preset</a> (unsigned long pre)</td></tr>
<tr class="memdesc:a852b36ea51ac0836a337697b8392c645"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the preset value  <a href="#a852b36ea51ac0836a337697b8392c645">More...</a><br /></td></tr>
<tr class="separator:a852b36ea51ac0836a337697b8392c645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf112f2cecc7a7a824fa954e1863bcd"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#aecf112f2cecc7a7a824fa954e1863bcd">get_preset</a> (void)</td></tr>
<tr class="memdesc:aecf112f2cecc7a7a824fa954e1863bcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the current preset value  <a href="#aecf112f2cecc7a7a824fa954e1863bcd">More...</a><br /></td></tr>
<tr class="separator:aecf112f2cecc7a7a824fa954e1863bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97996535b7d02eb00758c07d90c4408"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#af97996535b7d02eb00758c07d90c4408">set_on_timeout</a> (void(*f)(void))</td></tr>
<tr class="memdesc:af97996535b7d02eb00758c07d90c4408"><td class="mdescLeft">&#160;</td><td class="mdescRight">allows changing the called function when timeout occurs  <a href="#af97996535b7d02eb00758c07d90c4408">More...</a><br /></td></tr>
<tr class="separator:af97996535b7d02eb00758c07d90c4408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9cf524827bb60e7249c01fc91df0fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#abb9cf524827bb60e7249c01fc91df0fd">set_on_restart</a> (void(*f)(void))</td></tr>
<tr class="memdesc:abb9cf524827bb60e7249c01fc91df0fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">allows changing the called function when restart occurs  <a href="#abb9cf524827bb60e7249c01fc91df0fd">More...</a><br /></td></tr>
<tr class="separator:abb9cf524827bb60e7249c01fc91df0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1297a2afb9871ff7fd80b79da4267f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a1297a2afb9871ff7fd80b79da4267f98">get_state</a> (void)</td></tr>
<tr class="memdesc:a1297a2afb9871ff7fd80b79da4267f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the current state of the <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a>  <a href="#a1297a2afb9871ff7fd80b79da4267f98">More...</a><br /></td></tr>
<tr class="separator:a1297a2afb9871ff7fd80b79da4267f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3211e03e8d9f1704dcac464a00381973"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a3211e03e8d9f1704dcac464a00381973">get_remaining</a> (void)</td></tr>
<tr class="memdesc:a3211e03e8d9f1704dcac464a00381973"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the remaining counts required to TIMEOUT  <a href="#a3211e03e8d9f1704dcac464a00381973">More...</a><br /></td></tr>
<tr class="separator:a3211e03e8d9f1704dcac464a00381973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efdb891e9ce4e7b3723282cffa5997a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a6efdb891e9ce4e7b3723282cffa5997a">restart</a> (void)</td></tr>
<tr class="memdesc:a6efdb891e9ce4e7b3723282cffa5997a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the timer.  <a href="#a6efdb891e9ce4e7b3723282cffa5997a">More...</a><br /></td></tr>
<tr class="separator:a6efdb891e9ce4e7b3723282cffa5997a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d46e837026b0e7912ad433ca8ced4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#a66d46e837026b0e7912ad433ca8ced4a">reset</a> (void)</td></tr>
<tr class="memdesc:a66d46e837026b0e7912ad433ca8ced4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">resets the counter, and puts it in HOLD  <a href="#a66d46e837026b0e7912ad433ca8ced4a">More...</a><br /></td></tr>
<tr class="separator:a66d46e837026b0e7912ad433ca8ced4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8405d339346ba5d5fa32cbd275f3462"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#aa8405d339346ba5d5fa32cbd275f3462">hold</a> (void)</td></tr>
<tr class="memdesc:aa8405d339346ba5d5fa32cbd275f3462"><td class="mdescLeft">&#160;</td><td class="mdescRight">puts the counter in HOLD.  <a href="#aa8405d339346ba5d5fa32cbd275f3462">More...</a><br /></td></tr>
<tr class="separator:aa8405d339346ba5d5fa32cbd275f3462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1aea6ee3689d420ac6c17670b4bfc98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a> (<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler_state</a> action=<a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a1104c54a9ec6549e4ef9562b687596fb">Scheduler_state::RESTART</a>)</td></tr>
<tr class="memdesc:ae1aea6ee3689d420ac6c17670b4bfc98"><td class="mdescLeft">&#160;</td><td class="mdescRight">should be called at every pass of the main loop. Tests whether the counter has reached TIMEOUT  <a href="#ae1aea6ee3689d420ac6c17670b4bfc98">More...</a><br /></td></tr>
<tr class="separator:ae1aea6ee3689d420ac6c17670b4bfc98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ae59d7986cb7b66a64d5f77d4a35ea"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc0/class_scheduler.html#ad5ae59d7986cb7b66a64d5f77d4a35ea">count_down</a> (void)</td></tr>
<tr class="memdesc:ad5ae59d7986cb7b66a64d5f77d4a35ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">counts down if the counter is RUNNING  <a href="#ad5ae59d7986cb7b66a64d5f77d4a35ea">More...</a><br /></td></tr>
<tr class="separator:ad5ae59d7986cb7b66a64d5f77d4a35ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class to operate as scheduler for several tasks to run concurrently, but asynchronously </p>
<p>How to use: <br />
 Create one instance of <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a> for each process to be run, with the name of a function <br />
 to be called on timeout, and optionally a function to be called on restart.<br />
 Both functions nust be of the type 'void function(void) { ... }'</p>
<p>There are two constructors, one taking no parameters and designed to be used when declaring an array of schedulers. The other constructor takes the number of count_down cycles and optionally, the names of the event-handling functions.</p>
<p>Every instance of <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a> will be on HOLD after creation. To get the counter RUNNING, call [scheduler].<a class="el" href="../../dc/dc0/class_scheduler.html#a6efdb891e9ce4e7b3723282cffa5997a" title="Restarts the timer. ">restart()</a>. If the preset time has been altered either as part of initialising an array, or due to altering the timout period during run-time, .<a class="el" href="../../dc/dc0/class_scheduler.html#a66d46e837026b0e7912ad433ca8ced4a" title="resets the counter, and puts it in HOLD ">reset()</a> must be called before .<a class="el" href="../../dc/dc0/class_scheduler.html#a6efdb891e9ce4e7b3723282cffa5997a" title="Restarts the timer. ">restart()</a>.</p>
<p>[scheduler].<a class="el" href="../../dc/dc0/class_scheduler.html#ad5ae59d7986cb7b66a64d5f77d4a35ea" title="counts down if the counter is RUNNING ">count_down()</a> must be called regularly, ideally inside a 1ms timer interrupt routine. <br />
 In the main while(1) loop, call <a class="el" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98" title="should be called at every pass of the main loop. Tests whether the counter has reached TIMEOUT ...">process()</a> every scan cycle. If the count_down has timed out, the associated 'on_timeout' function will be called.</p>
<p>if .<a class="el" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98" title="should be called at every pass of the main loop. Tests whether the counter has reached TIMEOUT ...">process()</a> is called without parameters, the scheduler will reset and restart itself to time out another cycle. if .<a class="el" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98" title="should be called at every pass of the main loop. Tests whether the counter has reached TIMEOUT ...">process()</a> is called with <a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4">Scheduler::Scheduler_state::HOLD</a> then the scheduler will halt, waiting for a restart. Thus schedulers can operate as free-running repetitive devices or as a one-shot that will carry out an optional function when it restarts, and an optional function when it stops.</p>
<p>It is useful to declare an array of schedulers, and then to alias each scheduler with an appropriate name, viz </p><div class="fragment"><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> schedule[6];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *lcd_scheduler = &amp;schedule[0];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *key_scheduler = &amp;schedule[1];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *exposure_scheduler = &amp;schedule[2];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *idiotlight_scheduler = &amp;schedule[3];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *menu_scheduler = &amp;schedule[4];</div><div class="line"><a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a> *buzzer_scheduler = &amp;schedule[5];</div></div><!-- fragment --><p>This way, each scheduler can easily be handled individually as well as a group, as required.</p>
<p>For example, in a 1ms interrupt handler: (note C++11 notation... </p><div class="fragment"><div class="line">ISR(TIMER1_OVF_vect) {</div><div class="line">    TCNT1 = 65535-8000;</div><div class="line">    <span class="keywordflow">for</span> (<a class="code" href="../../dc/dc0/class_scheduler.html">Scheduler</a>&amp; s : schedule) {</div><div class="line">        s.count_down();</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>while individually treated in the main loop thus: </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (1)</div><div class="line">{</div><div class="line">    key_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>();</div><div class="line">    lcd_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>();</div><div class="line">    exposure_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>(<a class="code" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4">Scheduler::Scheduler_state::HOLD</a>);</div><div class="line">    idiotlight_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>(<a class="code" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4">Scheduler::Scheduler_state::HOLD</a>);</div><div class="line">    buzzer_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>(<a class="code" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4">Scheduler::Scheduler_state::HOLD</a>);</div><div class="line">    menu_scheduler-&gt;<a class="code" href="../../dc/dc0/class_scheduler.html#ae1aea6ee3689d420ac6c17670b4bfc98">process</a>();</div><div class="line">}</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../d2/dd8/scheduler_8h_source.html#l00070">70</a> of file <a class="el" href="../../d2/dd8/scheduler_8h_source.html">scheduler.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aca1f38e64471e2fa80b94983894c49d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1f38e64471e2fa80b94983894c49d9">&#9670;&nbsp;</a></span>Scheduler_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler::Scheduler_state</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>possible states of a scheduler/timer </p>
<p>scheduler will behave according to its state.</p>
<ol type="1">
<li>TIMEOUT counter remaining time is 0, will not count down further.</li>
<li>RUNNING counter remaining time will be decremented every call until TIMEOUT</li>
<li>HOLD counter remaining time will not be decremented, will never time out</li>
<li>RESTART Timer continues the countdown</li>
<li>RESET remaining time is set back to preset maximum duration and put in HOLD </li>
</ol>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aca1f38e64471e2fa80b94983894c49d9a070a0fb40f6c308ab544b227660aadff"></a>TIMEOUT&#160;</td><td class="fielddoc"><p>TIMEOUT counter remaining time is 0, will not count down further. </p>
</td></tr>
<tr><td class="fieldname"><a id="aca1f38e64471e2fa80b94983894c49d9a43491564ebcfd38568918efbd6e840fd"></a>RUNNING&#160;</td><td class="fielddoc"><p>RUNNING counter remaining time will be decremented every call until TIMEOUT </p>
</td></tr>
<tr><td class="fieldname"><a id="aca1f38e64471e2fa80b94983894c49d9a0c6d9dfb485b43c6fba87439f9f73ac4"></a>HOLD&#160;</td><td class="fielddoc"><p>HOLD counter remaining time will not be decremented, will never time out </p>
</td></tr>
<tr><td class="fieldname"><a id="aca1f38e64471e2fa80b94983894c49d9a1104c54a9ec6549e4ef9562b687596fb"></a>RESTART&#160;</td><td class="fielddoc"><p>RESTART Timer continues the countdown </p>
</td></tr>
<tr><td class="fieldname"><a id="aca1f38e64471e2fa80b94983894c49d9ab5859d8721cfdc0312b2838b9c985bc1"></a>RESET&#160;</td><td class="fielddoc"><p>RESET remaining time is set back to preset maximum duration and put in HOLD </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d2/dd8/scheduler_8h_source.html#l00084">84</a> of file <a class="el" href="../../d2/dd8/scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3b61aac11466cd45ae42ab8c2b0013f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b61aac11466cd45ae42ab8c2b0013f6">&#9670;&nbsp;</a></span>Scheduler() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Scheduler::Scheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor for building an array of schedulers </p>
<p>This one sets preset and on_timeout to default zero so that each has to be filled in later with a call to set_preset and set_on_timeout</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00055">55</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a6a62fca7cffd509985a08c6c377775df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a62fca7cffd509985a08c6c377775df">&#9670;&nbsp;</a></span>Scheduler() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Scheduler::Scheduler </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>p_on_timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>p_on_restart</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor for creating an instance of <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a> </p>
<p>Instantiates a <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a>, presets the counter, and sets the state to HOLD<br />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pre</td><td>the number of counts to count down before TIMEOUT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_on_timeout</td><td>name of function to be executed when timer times out </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_on_restart</td><td>(<em>optional</em>) name of function to be executed when timer timer is restarted. defaults to nullptr if not defined </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad5ae59d7986cb7b66a64d5f77d4a35ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ae59d7986cb7b66a64d5f77d4a35ea">&#9670;&nbsp;</a></span>count_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Scheduler::count_down </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>counts down if the counter is RUNNING </p>
<p>checks counter state and decrements remaining counts if greater than 0<br />
 if counter remaining is 0, sets state to TIMEOUT</p>
<dl class="section return"><dt>Returns</dt><dd>unsigned long the current counter remaining after the decrement </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00224">224</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="aecf112f2cecc7a7a824fa954e1863bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf112f2cecc7a7a824fa954e1863bcd">&#9670;&nbsp;</a></span>get_preset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Scheduler::get_preset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the current preset value </p>
<dl class="section return"><dt>Returns</dt><dd>unsigned long the current preset value </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00084">84</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a3211e03e8d9f1704dcac464a00381973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3211e03e8d9f1704dcac464a00381973">&#9670;&nbsp;</a></span>get_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Scheduler::get_remaining </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the remaining counts required to TIMEOUT </p>
<p>@ </p><dl class="section return"><dt>Returns</dt><dd>unsigned long remaining counts </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00141">141</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a1297a2afb9871ff7fd80b79da4267f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1297a2afb9871ff7fd80b79da4267f98">&#9670;&nbsp;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler::Scheduler_state</a> Scheduler::get_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the current state of the <a class="el" href="../../dc/dc0/class_scheduler.html" title="class to operate as scheduler for several tasks to run concurrently, but asynchronously ...">Scheduler</a> </p>
<dl class="section return"><dt>Returns</dt><dd>Scheduler_state state </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00128">128</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="aa8405d339346ba5d5fa32cbd275f3462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8405d339346ba5d5fa32cbd275f3462">&#9670;&nbsp;</a></span>hold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::hold </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>puts the counter in HOLD. </p>
<p>halts the countdown. To continue the countdown, use <code>[scheduler].<a class="el" href="../../dc/dc0/class_scheduler.html#a6efdb891e9ce4e7b3723282cffa5997a" title="Restarts the timer. ">restart()</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00183">183</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="ae1aea6ee3689d420ac6c17670b4bfc98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1aea6ee3689d420ac6c17670b4bfc98">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9">Scheduler_state</a>&#160;</td>
          <td class="paramname"><em>action</em> = <code><a class="el" href="../../dc/dc0/class_scheduler.html#aca1f38e64471e2fa80b94983894c49d9a1104c54a9ec6549e4ef9562b687596fb">Scheduler_state::RESTART</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>should be called at every pass of the main loop. Tests whether the counter has reached TIMEOUT </p>
<p>If it has timed out the remaining time is put back to preset.<br />
 If action is RESTART (or omitted) the counter is set back to RUNNING. If action is not RESTART, the counter is put on HOLD</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>defaults to SchedulerState::RESTART if omitted. <br />
Any other state will put the counter on hold.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00199">199</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a66d46e837026b0e7912ad433ca8ced4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d46e837026b0e7912ad433ca8ced4a">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resets the counter, and puts it in HOLD </p>
<p>the counter remaining counts are returned to the preset value, and the counter state returned to HOLD.<br />
 </p>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00170">170</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a6efdb891e9ce4e7b3723282cffa5997a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efdb891e9ce4e7b3723282cffa5997a">&#9670;&nbsp;</a></span>restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::restart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restarts the timer. </p>
<p>this will set the state to RUNNING without affecting the preset or remaining counts.<br />
 if you need to restart the timer from full preset, use </p><div class="fragment"><div class="line">[scheduler].reset();</div><div class="line">[scheduler].restart();</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00157">157</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="abb9cf524827bb60e7249c01fc91df0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb9cf524827bb60e7249c01fc91df0fd">&#9670;&nbsp;</a></span>set_on_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::set_on_restart </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allows changing the called function when restart occurs </p>
<p>This has to be called after the default constructor has been called, typically as part of an array of schedulers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>the name of a function that takes no parameters and returns none, and handles the event when a timer restarts. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00116">116</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="af97996535b7d02eb00758c07d90c4408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97996535b7d02eb00758c07d90c4408">&#9670;&nbsp;</a></span>set_on_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::set_on_timeout </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allows changing the called function when timeout occurs </p>
<p>This has to be called after the default constructor has been called, typically as part of an array of schedulers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>the name of a function that takes no parameters and returns none, and handles the event when a timer times out. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00100">100</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<a id="a852b36ea51ac0836a337697b8392c645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852b36ea51ac0836a337697b8392c645">&#9670;&nbsp;</a></span>set_preset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::set_preset </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>pre</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the preset value </p>
<p>changes the preset value without affecting the state or the remaining count</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pre</td><td>the new preset value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00072">72</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d2/dd8/scheduler_8h_source.html">scheduler.h</a></li>
<li><a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/dc0/class_scheduler.html">Scheduler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
